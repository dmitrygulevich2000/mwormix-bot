## mwormix-bot

Телеграм-бот, который парсит стену [официальной группы игры Вормикс](https://vk.com/wormix_club) ВКонтакте, и отправляет уведомления о ежедневных бонусах в сконфигурированный чат.

### Настройка бота

#### Узнать ID чата
Необходимо создать бота с помощью стандартного механизма Telegram и заполнить токен в файле `.env-example`.  
Выполнить в bash:
```bash
source .env-example
go run cmd/run_bot/main.go
```
Отправить боту команду `/chat_id`

#### Выполнить поиск бонусов и отправку уведомлений
Нужно заполнить токен, ID чата и директорию для хранения данных ботом в файле `.env-example`.
Выполнить в bash:
```bash
source .env-example
go run cmd/notify_once/main.go
```

Альтернативно, можно собрать docker-контейнер. 
Для этого нужно подготовить аналогичный файл `.env-docker`(директория для данных выбирается внутри контейнера) и выполнить в bash:
```bash
docker build -t mwormix-bot .
```
Запуск и рестарт контейнера выполняется следующим образом:
```bash
docker run -v mwormix-data:<your dir from .env-docker> --name mwb mwormix-bot
docker start mwb
```

Для запуска команд по расписанию можно воспользоваться механизмом `cron`.
